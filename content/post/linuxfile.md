---
title: Rhel 시스템 디렉터리 구성
tags: ['Infra', 'system']
published: '2021-05-26'
hidden: 'false'
---

## Redhat 기반 리눅스 시스템의 디렉터리
지금까지 CentOS에서 작업해오며 시스템 디렉터리를 건드릴 일들이 상당히 많았다. 하지만 몇몇 디렉터리를 제외하곤 그 세세한 용도에 대해서 이건 이런 디렉터리가 아닐까? 라고 추측만 할 뿐, 자세히 알아본 적이 없는 것 같다. 이에 한 번 정리해두는 것도 도움이 될 것 같아 포스트를 작성한다.

#### home
시스템에 등록된 유저들의 개인 home 폴더가 모여있는 곳. 각각의 개인 폴더는 각 유저의 개인 작업 공간으로 .bashrc, .bash_profile등 해당 유저 계정에 대한 기본 설정 파일 또한 포함한다. 홈 디렉터리 아래에 유저의 개인 폴더가 없다면 로그인 시, 에러가 출력된다.
#### root
root 유저의 home 디렉터리.
#### var
시스템 운용 중에 생성, 삭제되는 일시적 데이터를 저장하기 위한 디렉터리이다. 하위에 있는 주요 폴더들은 대부분 시스템에서 사용하는 폴더로 유저가 정보를 알아야하는 디렉터리는 아래와 같다.
+ ***/var/log*** : 어플리케이션들의 로그 및 시스템 로그 파일들이 있는 곳. 다양한 이력을 확인하기 위해 들어간다.
+ ***/var/lib*** : 설치된 툴들이 상태정보 등의 가변데이터 저장을 목적으로 사용하는 곳. 주로 공식문서에서 그래선 안된다고 말하는 방법으로 문제를 해결해야할 상황이 오면 들어가게 된다.. 내 경우는 jenkins였다.
+ ***/var/local*** : /usr/local에 설치된 컴파일 설치 소프트웨어들이 사용하는 가변정보들이 들어있다.

기타 이런게 있다, 하고 알아둘만한 폴더는 아래와 같다.
+ ***/var/tmp*** : 재부팅 시 임시 보존되는 파일들이 있는 곳.
+ ***/var/cache*** : 어플리케이션의 캐시 데이터가 있는 곳.

#### etc
etc 디렉터리는 주로 시스템의 부팅 내지는 셧다운 시 수행되어야하는 작업 스크립트 내지는 설정 파일들이 위치한다. mysql을 설치할 때 mysqld 파일과 cnf 파일을 이 밑에 놓는 이유도 etc가 그런 용도의 디렉터리이기 때문이다. docker, httpd, firewalld, libvirt, cron.d, ntp, vsftpd 등등 익숙한 이름들이 많이 보이지만 그것들은 전부 해당 툴에 종속적인 설명이 될 것이다. 따라서 운영에 관련된 디렉터리만 몇 가지 살펴보고자 한다.
+ ***/etc/sysconfig/network-scripts*** : rhel 기반 os의 ip 설정 스크립트가 존재하는 디렉터리. 기동시 해당 디렉터리를 읽어 각 포트의 IP를 할당한ㄷ.
+ ***/etc/init.d*** : System V init tools 또는 그에 준하는 프로세스가 사용하는 스크립트를 담고있다. init tool은 아래 설명에서 서술할 systemd 로 거의 대체되었지만, 오래된 서버에서는 여전히 살아있다. 내가 사용할 때에는 시스템 기동 시에 실행될 서비스의 시작 스크립트를 이 곳에 넣어놨다. 대표적으론 mysqld 파일이 이 위치에 있었다. 여기 올라간 service 파일은 systemctl 명령어 또는 service 명령어를 통해 관리 가능하다.
+ ***/etc/systemd/system*** : 위에 언급한 systemd 가 사용하는 정식 디렉터리. 위 디렉터리와 마찬가지로 해당 디렉터리의 스크립트는 systemd 프로세스를 이용해 서비스로 등록할 수 있다.

#### usr
시스템이 아닌 사용자가 실행할 프로그램들을 포함하는 디렉터리이다. 해당 디렉터리에는 ***반드시 read-only 데이터만 존재해야한다.*** 또한 규모가 큰 패키지들이 /usr 계층 하위 디렉터리들을 직접 사용해선 안된다. 주요 디렉터리는 아래와 같다.
+ ***/usr/lib*** : 시스템 사용자들이 사용 가능한 라이브러리들이 위치한다.
+ ***/usr/local*** : os에 포함되지 않는 실행파일들이 설치된다. 단, 여기에 설치되는 것은 make 명령어로 빌드되는 어플리케이션들로 번들로 제공되지 않는 패키지는 opt 디렉터리 하위에 설치된다. /usr/local에 설치되는 어플리케이션 중 대표적인 것은 mysql이 있다.
+ ***/usr/include*** : C 프로그램에서 사용되는 헤더 파일들이 위치한다. 흔히 c를 처음 배울 때 이야기하는 #include <> 와 #include ""의 차이에서 <>일 경우 탐색하는 시스템 등록 헤더의 위치가 바로 이곳이다.
+ ***/usr/bin*** : 시스템에서 사용하는 대부분의 명령어 bin들이 위치하는 곳. 이 곳을 뒤져보면 ls, cd, chown, rm 등등 익숙한 이름들을 많이 볼 수 있다. 마찬가지로 설치된 프로그램의 기능들 중, 위 시스템 명령과 같이 바로 실행되는 것들의 bin들 또한 대부분 여기에 있다.
+ ***/usr/sbin*** : 필수 항목은 아니지만 시스템의 표준 바이너리인 항목들이 sbin 디렉터리에 위치하게 된다. vsftpd, sshd, ntpd 등등으로 /etc/systemd 디렉터리와 마찬가지로 systemctl 명령어를 통해 관리된다. 또한 root 권한으로만 서비스를 관리할 수 있는 경우가 대부분이다.
+ ***/usr/share*** : 시스템에서 사용하는 공유 파일들을 위한 디렉터리.

#### proc
실존제하는 것이 아닌 메모리상에 존재하는 디렉터리. 시스템의 갖가지 정보를 제공해준다. 안에 있는 파일들의 이름만 보아도 cpuinfo, meminfo, zoneinfo 등을 확인할 수 있다.

#### mnt
다른 장치, 예를 들어 usb나 cdrom 등이 마운트 되었을 때의 경로이다.

#### opt
위에 usr를 설명하는 중에 언급한, make를 통해 빌드되어 설치되는 것이 아닌 별도 설치과정을 통해 설치되는 어플리케이션들이 위치하는 디렉터리이다. 이러한 어플리케이션들 중 대표적인 것은 gitlab, gradle이 있다.

#### boot
OS의 부팅에 사용된다.

#### dev
장치에 대한 특수파일을 담는다.

#### sys
시스템에 연결된 장치를 저장하고 수정할 수 있는 가상 파일 시스템에 관한 디렉터리.
